import{r as E,P as k,o as d,a as p,b as c,u as e,X as S,w as I,d as o,t as C,j as g,C as f,i as h,F as D,k as b,z as B,p as F,l as L}from"./app.281e0c63.js";import{A as N}from"./AdminLayout.8a21602c.js";import{D as U}from"./DashboardBreadcrump.8e740981.js";import{I as V}from"./iconify.a9b16b93.js";import{_ as O}from"./FormError.f65ecb40.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";const r=l=>(F("data-v-be80d31c"),l=l(),L(),l),A=r(()=>o("hr",null,null,-1)),J={class:"container shadow-sm rounded bg-white"},R={class:"promotion py-1"},T={class:"row"},$={class:"col-lg-12"},z={class:"fw-bolder text-success"},M={class:"row"},X={class:"my-1 col-lg-4 col-md-6 col-sm-6"},q=r(()=>o("label",{for:"promotion_title",class:"form-label"},"Promotion Title",-1)),G=r(()=>o("small",{class:"text-danger fst-italic small"},"(Optional)",-1)),H={class:"my-1 col-lg-4 col-md-6 col-sm-6"},K=r(()=>o("label",{for:"promotion_title",class:"form-label"},"Promotion Desc",-1)),Q=r(()=>o("small",{class:"text-danger fst-italic small"},"(Optional)",-1)),W={class:"my-1 col-lg-4 col-md-6 col-sm-6"},Y=r(()=>o("label",{for:"promotion_image",class:"form-label"},"Promotion Image",-1)),Z={key:0,class:"img_container mt-1"},oo=["src"],to={class:"row"},eo={class:"col-12"},so=["disabled"],io=r(()=>o("span",null,"Edit",-1)),no={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ro={__name:"PromotionEdit",props:["promotion"],setup(l){var _,u;const s=l,m=E((_=JSON.parse(s.promotion.banner_img))==null?void 0:_.img_url),t=k({promotion_img:s.promotion.banner_img,promotion_title:s.promotion.title,promotion_desc:s.promotion.description,promotion_img_id:(u=JSON.parse(s.promotion.banner_img))==null?void 0:u.img_id,folder:"promotion"}),v={slug:"promotion",link:!0,route_name:"admin.promotion.index"},y={slug:s.promotion.title,link:!1,route_name:null};function w(a){const n=a.target.files[0];t.promotion_img=a.target.files[0];const i=new FileReader;i.onloadend=()=>{m.value=i.result},i.readAsDataURL(n)}function x(){const a=document.getElementById("promotion_image");a.value=null,t.promotion_img=null,m.value=null}const P=()=>{t.clearErrors(),t.post(route("admin.promotion.update",s.promotion.id),{preserveScroll:!0,onSuccess:()=>{b.success(B(s.promotion.title)+" has been edit successfully"),t.reset()},onError:()=>{b.error(`Unable to edit ${s.promotion.title}`)}})};return(a,n)=>(d(),p(D,null,[c(e(S),{title:"Promotion"}),c(N,null,{default:I(()=>[c(U,{step_one:v,step_two:y}),A,o("div",J,[c(O,{errors:e(t).errors},null,8,["errors"]),o("div",R,[o("div",T,[o("div",$,[o("h4",z,"Edit "+C(l.promotion.title),1)])]),o("div",M,[o("div",X,[q,g(o("input",{type:"text",class:"form-control",id:"promotion_title",placeholder:"Promotion title","onUpdate:modelValue":n[0]||(n[0]=i=>e(t).promotion_title=i)},null,512),[[f,e(t).promotion_title]]),G]),o("div",H,[K,g(o("input",{type:"text",class:"form-control",id:"promotion_title",placeholder:"Promotion desc","onUpdate:modelValue":n[1]||(n[1]=i=>e(t).promotion_desc=i)},null,512),[[f,e(t).promotion_desc]]),Q]),o("div",W,[Y,o("input",{type:"file",class:"form-control",id:"promotion_image",onChange:n[2]||(n[2]=i=>w(i)),accept:".jpg, .jpeg, .png"},null,32),m.value?(d(),p("div",Z,[o("img",{src:m.value,alt:"promotion preview",width:"100"},null,8,oo),o("button",{onClick:x},[c(e(V),{color:"text-danger",icon:"material-symbols:edit",height:"15"})])])):h("",!0)])]),o("div",to,[o("div",eo,[o("button",{disabled:e(t).processing||!e(t).promotion_img,onClick:P,class:"btn btn-success"},[io,e(t).processing?(d(),p("span",no)):h("",!0)],8,so)])])])])]),_:1})],64))}},uo=j(ro,[["__scopeId","data-v-be80d31c"]]);export{uo as default};
