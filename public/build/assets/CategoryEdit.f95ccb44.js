import{r as C,P as x,o as _,a as g,b as i,u as o,X as E,w as k,d as e,t as S,j as I,C as B,i as p,F as D,k as y,z as F,p as L,l as N}from"./app.636801a9.js";import{A as U}from"./AdminLayout.c2efef3c.js";import{D as V}from"./DashboardBreadcrump.d592429a.js";import{I as j}from"./iconify.65236bb7.js";import{_ as A}from"./FormError.443f658c.js";import{_ as J}from"./_plugin-vue_export-helper.cdc0426e.js";const d=a=>(L("data-v-3cb69191"),a=a(),N(),a),O=d(()=>e("hr",null,null,-1)),R={class:"container shadow-sm rounded bg-white"},T={class:"category py-1"},$={class:"row"},z={class:"col-lg-12"},M={class:"fw-bolder text-success"},P={class:"row"},X={class:"my-1 col-lg-6 col-md-6"},q=d(()=>e("label",{for:"category_title",class:"form-label"},"Category Title",-1)),G={class:"my-1 col-lg-6 col-md-6"},H=d(()=>e("label",{for:"category_image",class:"form-label"},"Category Image",-1)),K={key:0,class:"img_container mt-1"},Q=["src"],W={class:"row"},Y={class:"col-12"},Z=["disabled"],ee=d(()=>e("span",null,"Edit",-1)),te={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},oe={__name:"CategoryEdit",props:["category"],setup(a){var m,u;const s=a,n=C((m=JSON.parse(s.category.banner_img))==null?void 0:m.img_url),t=x({category_img:s.category.banner_img,category_title:s.category.title,category_img_id:(u=JSON.parse(s.category.banner_img))==null?void 0:u.img_id,folder:"category"}),f={slug:"Category",link:!0,route_name:"admin.category.index"},h={slug:s.category.title,link:!1,route_name:null};function b(l){const c=l.target.files[0];t.category_img=l.target.files[0];const r=new FileReader;r.onloadend=()=>{n.value=r.result},r.readAsDataURL(c)}function v(){const l=document.getElementById("category_image");l.value=null,t.category_img=null,n.value=null}const w=()=>{t.clearErrors(),t.post(route("admin.category.update",s.category.id),{preserveScroll:!0,onSuccess:()=>{y.success(F(s.category.title)+" has been edit successfully"),t.reset()},onError:()=>{y.error(`Unable to edit ${s.category.title}`)}})};return(l,c)=>(_(),g(D,null,[i(o(E),{title:"Category"}),i(U,null,{default:k(()=>[i(V,{step_one:f,step_two:h}),O,e("div",R,[i(A,{errors:o(t).errors},null,8,["errors"]),e("div",T,[e("div",$,[e("div",z,[e("h4",M,"Edit "+S(a.category.title),1)])]),e("div",P,[e("div",X,[q,I(e("input",{type:"text",class:"form-control",id:"category_title",placeholder:"category","onUpdate:modelValue":c[0]||(c[0]=r=>o(t).category_title=r)},null,512),[[B,o(t).category_title]])]),e("div",G,[H,e("input",{type:"file",class:"form-control",id:"category_image",onChange:c[1]||(c[1]=r=>b(r)),accept:".jpg, .jpeg, .png"},null,32),n.value?(_(),g("div",K,[e("img",{src:n.value,alt:"category preview",width:"100"},null,8,Q),e("button",{onClick:v},[i(o(j),{color:"text-danger",icon:"material-symbols:edit",height:"15"})])])):p("",!0)])]),e("div",W,[e("div",Y,[e("button",{disabled:o(t).processing||!o(t).category_img||!o(t).category_title,onClick:w,class:"btn btn-success"},[ee,o(t).processing?(_(),g("span",te)):p("",!0)],8,Z)])])])])]),_:1})],64))}},ne=J(oe,[["__scopeId","data-v-3cb69191"]]);export{ne as default};
