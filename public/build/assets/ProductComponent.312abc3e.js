import{o as c,a as d,d as r,f as i,u as t,a9 as y,t as h,i as p,r as S,c as R,bF as q,b as g,w as m,q as b,g as k,z as f,bC as v,bD as P,P as B,k as x}from"./app.281e0c63.js";import{I as o}from"./iconify.a9b16b93.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";const I={class:"rating"},T={key:0,class:"small py-0 my-0 ms-1 text-warning"},V={__name:"Rating",props:{value:{type:Number,default:0,required:!0},color:{type:String,default:"#E4811C",required:!1},text:{type:String,default:"",required:!1}},setup(e){return(l,u)=>(c(),d("div",I,[r("span",{style:y(`color:${e.color}`)},[e.value>=1?(c(),i(t(o),{key:0,icon:"ic:sharp-star"})):e.value>=.5?(c(),i(t(o),{key:1,icon:"ic:sharp-star-half"})):(c(),i(t(o),{key:2,icon:"ic:sharp-star-border"}))],4),r("span",{style:y(`color:${e.color}`)},[e.value>=2?(c(),i(t(o),{key:0,icon:"ic:sharp-star"})):e.value>=1.5?(c(),i(t(o),{key:1,icon:"ic:sharp-star-half"})):(c(),i(t(o),{key:2,icon:"ic:sharp-star-border"}))],4),r("span",{style:y(`color:${e.color}`)},[e.value>=3?(c(),i(t(o),{key:0,icon:"ic:sharp-star"})):e.value>=2.5?(c(),i(t(o),{key:1,icon:"ic:sharp-star-half"})):(c(),i(t(o),{key:2,icon:"ic:sharp-star-border"}))],4),r("span",{style:y(`color:${e.color}`)},[e.value>=4?(c(),i(t(o),{key:0,icon:"ic:sharp-star"})):e.value>=3.5?(c(),i(t(o),{key:1,icon:"ic:sharp-star-half"})):(c(),i(t(o),{key:2,icon:"ic:sharp-star-border"}))],4),r("span",{style:y(`color:${e.color}`)},[e.value>=5?(c(),i(t(o),{key:0,icon:"ic:sharp-star"})):e.value>=4.5?(c(),i(t(o),{key:1,icon:"ic:sharp-star-half"})):(c(),i(t(o),{key:2,icon:"ic:sharp-star-border"}))],4),e.text?(c(),d("p",T,h(e.text),1)):p("",!0)]))}},z=w(V,[["__scopeId","data-v-d3ee21f3"]]);const E={class:"card mb-2 rounded border-0 bg-white",id:"product_component"},L={key:0,class:"discount_percentage"},j=["src"],D={class:"card-body"},F={class:"card-title product_name fw-bolder text-truncate"},W={class:"fw-normal small"},J={class:"discount d-flex justify-content-between my-1"},O={class:"price fw-bolder text-success"},U={key:0,class:"inflatedprice text-danger"},A={class:"my-1"},G={class:"d-flex align-items-center"},H=["disabled"],K={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},M={key:1,class:"d-flex align-items-center justify-content-center"},Q={class:"ms-2"},X={__name:"ProductComponent",props:["product"],setup(e){const l=e,u=S(!1),_=R(()=>l.product.reviews.length?(l.product.reviews.reduce((n,N)=>n+N.rating,0)*5/(l.product.reviews.length*5)).toFixed(2):0),C=s=>{const a={id:s.id,title:s.title,sub_title:s.sub_title,image:s.image,stock:s.stock,price:s.discount_price?s.discount_price:s.price,quantity:1};P.dispatch("wishlistStore/addToWishList",a)},$=s=>{u.value=!0;const a=B({id:s.id,name:s.title,image:s.image,slug:s.slug,stock:s.stock,price:Number(s.discount_price)?Number(s.discount_price):Number(s.price),quantity:1});a.post(route("add-to-cart"),{preserveScroll:!0,onSuccess:n=>{x.success(f(l.product.title)+" has been added to your cart."),u.value=!1,a.reset()},onError:n=>{u.value=!1,x.error(`${f(l.product.title)} is already in your cart.`)}})};return(s,a)=>(c(),d("div",E,[e.product.discount_price?(c(),d("div",L,[r("p",null,h(t(q)(e.product.price,e.product.discount_price)),1)])):p("",!0),g(t(b),{href:s.route("product-details-page",e.product.slug)},{default:m(()=>{var n;return[r("img",{src:(n=JSON.parse(e.product.image))==null?void 0:n.img_url,class:"img-fluid rounded",alt:"product image"},null,8,j)]}),_:1},8,["href"]),r("div",D,[g(t(b),{href:s.route("product-details-page",e.product.slug)},{default:m(()=>[r("h6",F,[k(h(t(f)(e.product.title))+" ",1),r("span",W," ("+h(e.product.pack_size)+")",1)])]),_:1},8,["href"]),r("div",J,[r("p",O," \u20A6 "+h(e.product.discount_price?t(v)(e.product.discount_price):t(v)(e.product.price)),1),e.product.discount_price?(c(),d("p",U," \u20A6 "+h(t(v)(e.product.price)),1)):p("",!0)]),r("div",A,[g(z,{value:t(_),text:`${e.product.reviews.length} review${e.product.reviews.length>1?"s":""}`},null,8,["value","text"])]),r("div",G,[r("button",{onClick:a[0]||(a[0]=n=>$(e.product)),class:"shadow btn-sm btn-success w-100",disabled:u.value},[u.value?(c(),d("span",K)):(c(),d("span",M,[g(t(o),{height:"18",icon:"ic:outline-shopping-cart",class:"mr-2"}),k(" Cart ")]))],8,H),r("div",Q,[r("button",{onClick:a[1]||(a[1]=n=>C(e.product)),class:"wish_btn"},[g(t(o),{icon:"ph:heart",height:"17"})])])])])]))}},te=w(X,[["__scopeId","data-v-790cc3b1"]]);export{te as P,z as R};
