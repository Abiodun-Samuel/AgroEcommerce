import{r as y,P as N,o as n,a as u,b as _,u as l,X as B,w as L,d as t,t as g,j as r,v as x,F as f,e as k,C as i,i as w,k as P,z as S,p as A,l as O,g as V}from"./app.281e0c63.js";import{A as T}from"./AdminLayout.8a21602c.js";import{D as j}from"./DashboardBreadcrump.8e740981.js";import{_ as F}from"./FormError.f65ecb40.js";import{I as J}from"./iconify.a9b16b93.js";/* empty css                                                                  */import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";const c=a=>(A("data-v-ae3e746d"),a=a(),O(),a),R=c(()=>t("hr",null,null,-1)),$={class:"container"},X={class:"product_form bg-white shadow-sm p-1 mb-2"},q={class:"fw-bolder text-success"},G=c(()=>t("hr",null,null,-1)),H={class:"row"},K={class:"col-lg-3 col-md-6 col-6 my-1"},Q=c(()=>t("label",{for:"categories",class:"form-label"},"Categories",-1)),W=c(()=>t("option",{selected:"",disabled:""},"Select Category",-1)),Y=["value"],Z={class:"col-lg-3 col-md-6 col-6 my-1"},tt=c(()=>t("label",{for:"sub_categories",class:"form-label"},"SubCategories",-1)),ot=c(()=>t("option",{selected:"",disabled:""},"Select SubCategory",-1)),et=["value"],st={class:"col-lg-3 col-md-6 col-6 my-1"},lt=c(()=>t("label",{for:"product_title",class:"form-label"},"Product Title",-1)),ct={class:"col-lg-3 col-md-6 col-6 my-1"},dt=c(()=>t("label",{for:"product_subtitle",class:"form-label"},"Product SubTitle ",-1)),rt=c(()=>t("span",{class:"small text-danger fst-italic fw-normal"},"(Optional)",-1)),it={class:"product_form bg-white shadow-sm p-1 mb-2"},at={class:"row"},nt={class:"col-lg-3 col-md-6 col-6 my-1"},ut=c(()=>t("label",{for:"description",class:"form-label"},"Product Image ",-1)),pt=c(()=>t("span",{class:"small text-danger fw-normal fst-italic"},"(500px by 500px)",-1)),_t={class:"mt-1"},mt={key:0,class:"img_container position-relative"},gt=["src"],ft={class:"col-lg-3 col-md-6 col-6 my-1"},bt=c(()=>t("label",{for:"pack_size",class:"form-label"},"Pack size ",-1)),ht=c(()=>t("span",{class:"small text-danger fst-italic fw-normal"},"(e.g 100ml, 500kg)",-1)),vt={class:"col-lg-3 col-md-6 col-6 my-1"},yt=c(()=>t("label",{for:"product_brand",class:"form-label"},"Product Brand",-1)),xt={class:"col-lg-3 col-md-6 col-6 my-1"},kt=c(()=>t("label",{for:"product_stock",class:"form-label"},"Product Stock",-1)),wt={class:"product_form bg-white shadow-sm p-1 mb-2"},Pt={class:"row"},St={class:"col-lg-6 col-md-6 col-6 my-1"},Vt=c(()=>t("label",{for:"price",class:"form-label"},[V("Price "),t("span",{class:"text-danger"},"(\u20A6)")],-1)),Ut={class:"col-lg-6 col-md-6 col-6 my-1"},Ct=c(()=>t("label",{for:"discount_price",class:"form-label"},[V("Discount price "),t("span",{class:"text-danger"},"(\u20A6)")],-1)),It=c(()=>t("span",{class:"small text-danger fst-italic fw-normal"},"(Optional)",-1)),Dt={class:"col-lg-6 col-md-6 col-6 my-1"},zt=c(()=>t("label",{for:"ingredients",class:"form-label"},"Ingredients",-1)),Et=c(()=>t("small",{class:"text-danger fst-italic fw-normal"},"(Note: Apply a single space between ingredients, no comma)",-1)),Nt={class:"col-lg-6 col-md-6 col-6 my-1"},Bt=c(()=>t("label",{for:"description",class:"form-label"},"Product Description",-1)),Lt={class:"row"},At={class:"col-lg-12 text-end"},Ot=["disabled"],Tt=c(()=>t("span",null,"Edit",-1)),jt={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Ft={__name:"ProductEdit",props:["product","categories"],setup(a){var h,v;const d=a;console.log(d.product);const b=y([]),m=y((h=JSON.parse(d.product.image))==null?void 0:h.img_url),U={slug:"Product",link:!1,route_name:null},e=N({category_id:d.product.category_id,subcategory_id:d.product.subcategory_id,product_title:d.product.title,product_subtitle:d.product.sub_title,pack_size:d.product.pack_size,product_brand:d.product.brands,product_image:d.product.image,product_stock:d.product.stock,price:d.product.price,product_ingredient:d.product.ingredients,product_description:d.product.description,discountPrice:d.product.discount_price,product_img_id:(v=JSON.parse(d.product.image))==null?void 0:v.img_id,folder:"products"});function C(){const p=document.getElementById("product_image");p.value=null,m.value=null,e.product_image=null}const I=(p,s)=>{const o=d.categories.find(E=>E.id===e.category_id);b.value=o.subcategory};function D(p){const s=e.product_image=p.target.files[0],o=new FileReader;o.onloadend=()=>{m.value=o.result},o.readAsDataURL(s)}const z=()=>{e.clearErrors(),e.post(route("admin.product.update",d.product.id),{preserveScroll:!0,onSuccess:()=>{P.success(S(d.product.title)+" has been edited successfully"),e.reset()},onError:()=>{P.error(`Unable to edit ${S(d.product.title)}`)}})};return(p,s)=>(n(),u(f,null,[_(l(B),{title:"Product"}),_(T,null,{default:L(()=>[_(j,{step_one:U}),R,t("div",$,[_(F,{errors:l(e).errors},null,8,["errors"]),t("div",X,[t("h5",q,"Edit "+g(a.product.title),1),G,t("div",H,[t("div",K,[Q,r(t("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":s[0]||(s[0]=o=>l(e).category_id=o),onChange:I},[W,(n(!0),u(f,null,k(a.categories,o=>(n(),u("option",{key:o.id,value:o.id},g(o.title),9,Y))),128))],544),[[x,l(e).category_id]])]),t("div",Z,[tt,r(t("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":s[1]||(s[1]=o=>l(e).subcategory_id=o)},[ot,(n(!0),u(f,null,k(b.value,o=>(n(),u("option",{key:o.id,value:o.id},g(o.title),9,et))),128))],512),[[x,l(e).subcategory_id]])]),t("div",st,[lt,r(t("input",{type:"text",class:"form-control",id:"product_title",placeholder:"product title","onUpdate:modelValue":s[2]||(s[2]=o=>l(e).product_title=o)},null,512),[[i,l(e).product_title]])]),t("div",ct,[dt,r(t("input",{type:"text",class:"form-control",id:"product_subtitle",placeholder:"product subtitle","onUpdate:modelValue":s[3]||(s[3]=o=>l(e).product_subtitle=o)},null,512),[[i,l(e).product_subtitle]]),rt])])]),t("div",it,[t("div",at,[t("div",nt,[ut,t("input",{id:"product_image",type:"file",class:"form-control",onChange:s[4]||(s[4]=o=>D(o)),accept:".jpg, .jpeg, .png"},null,32),pt,t("div",_t,[m.value?(n(),u("div",mt,[t("img",{src:m.value,alt:"product preview",width:"100",class:"rounded shadow-sm"},null,8,gt),t("button",{class:"",onClick:C},[_(l(J),{color:"text-danger",icon:"material-symbols:edit",height:"15"})])])):w("",!0)])]),t("div",ft,[bt,r(t("input",{type:"text",class:"form-control",id:"pack_size",placeholder:"Pack size","onUpdate:modelValue":s[5]||(s[5]=o=>l(e).pack_size=o)},null,512),[[i,l(e).pack_size]]),ht]),t("div",vt,[yt,r(t("input",{type:"text",class:"form-control",id:"product_brand",placeholder:"product brand","onUpdate:modelValue":s[6]||(s[6]=o=>l(e).product_brand=o)},null,512),[[i,l(e).product_brand]])]),t("div",xt,[kt,r(t("input",{type:"number",class:"form-control",id:"product_stock",placeholder:"product stock","onUpdate:modelValue":s[7]||(s[7]=o=>l(e).product_stock=o)},null,512),[[i,l(e).product_stock,void 0,{number:!0}]])])])]),t("div",wt,[t("div",Pt,[t("div",St,[Vt,r(t("input",{type:"number",class:"form-control",id:"price",placeholder:"Price","onUpdate:modelValue":s[8]||(s[8]=o=>l(e).price=o)},null,512),[[i,l(e).price,void 0,{number:!0}]])]),t("div",Ut,[Ct,r(t("input",{type:"number",class:"form-control",id:"discount_price",placeholder:"Discount price","onUpdate:modelValue":s[9]||(s[9]=o=>l(e).discountPrice=o)},null,512),[[i,l(e).discountPrice,void 0,{number:!0}]]),It]),t("div",Dt,[zt,r(t("textarea",{"onUpdate:modelValue":s[10]||(s[10]=o=>l(e).product_ingredient=o),class:"form-control",id:"ingredients"},null,512),[[i,l(e).product_ingredient]]),Et]),t("div",Nt,[Bt,r(t("textarea",{"onUpdate:modelValue":s[11]||(s[11]=o=>l(e).product_description=o),class:"form-control",id:"description"},null,512),[[i,l(e).product_description]])])]),t("div",Lt,[t("div",At,[t("button",{onClick:z,disabled:l(e).processing,class:"btn btn-success"},[Tt,l(e).processing?(n(),u("span",jt)):w("",!0)],8,Ot)])])])])]),_:1})],64))}},Ht=M(Ft,[["__scopeId","data-v-ae3e746d"]]);export{Ht as default};
