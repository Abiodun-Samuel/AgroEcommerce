import{A as E,o as d,a as h,d as e,t as c,n as k,r as m,c as I,P as j,b as r,u as t,X as K,w,j as p,bu as C,g as f,bC as W,f as z,q as G,C as S,v as O,F as P,e as V,bs as H,k as U,J}from"./app.636801a9.js";import{_ as X}from"./GuestLayout.126cda1d.js";import{B as Y}from"./BreadCrump.2767e1c6.js";import{I as _}from"./iconify.65236bb7.js";import{C as Q,S as Z}from"./state.d698205e.js";import{M as ee}from"./Modal.23ac1dc4.js";import{_ as te}from"./FormError.443f658c.js";import"./logo.30a607c9.js";import"./NoResult.97c56a94.js";import"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                              */var $=E({name:"Vue3Paystack",props:{buttonClass:{type:String,default:""},buttonText:{type:String,default:""},publicKey:{type:String,requird:!0},email:{type:String,required:!0},amount:{type:Number,required:!0},reference:{type:String,required:!0},currency:{type:String,default:"NGN"},onSuccess:{type:Function,default:function(l){console.log(l)}},onCancel:{type:Function,default:function(){console.log("payment closed")}},channels:{type:Array,default:function(){return["card","bank","ussd","qr","mobile_money"]}},metadata:{type:Object,default:function(){return{}}},label:{type:String,default:""}},async created(){this.mountScript().then(()=>{this.hasScriptLoaded=!0})},data(){return{hasScriptLoaded:!1}},methods:{async mountScript(){return new Promise((l,u)=>{const i=document.createElement("script");i.setAttribute("src","https://js.paystack.co/v2/inline.js"),i.setAttribute("type","text/javascript"),document.head.appendChild(i),i.onload=()=>l(),i.onerror=()=>u()})},payWithPaystack(){const l={key:this.publicKey,email:this.email,amount:this.amount,reference:this.reference,currency:this.currency,channels:this.channels,metadata:this.metadata,label:this.label,onSuccess:i=>{this.onSuccess(i)},onCanel:()=>{this.onCanel()}};new window.PaystackPop().newTransaction(l)}}});const se=["disabled"];function oe(l,u,i,v,y,g){return d(),h("button",{disabled:!l.hasScriptLoaded,class:k(l.buttonClass),onClick:u[0]||(u[0]=(...n)=>l.payWithPaystack&&l.payWithPaystack(...n))},[e("span",null,c(l.buttonText),1)],10,se)}$.render=oe;var ae=(()=>{const l=$;return l.install=u=>{u.component("Vue3Paystack",l)},l})();const le={class:"container"},ne={class:"row"},re={class:"col-lg-8 col-md-7 my-2"},ce={class:"bg-white rounded shadow-sm p-1 mb-1"},ie={class:"d-flex justify-content-between align-items-center"},de={class:"d-flex align-items-center gap-1"},ue=e("h5",{class:"fw-bolder my-0 py-0",style:{color:"var(--green-5)"}}," 1. Address Details ",-1),me=e("span",{style:{padding:"3px"}},"Change",-1),pe=[me],he=e("hr",null,null,-1),_e={class:"row"},ye={key:0,class:"col-12 px-4 py-1"},fe={class:"fw-light my-0 py-0"},be={class:"fw-light my-0 py-0"},ve={class:"fw-light my-0 py-0"},ge={key:1,class:"col-12 px-4 py-1"},we=e("p",{class:"text-danger fw-bold"}," Please enter your delivery address ",-1),ke=[we],xe={class:"bg-white rounded shadow-sm p-1 mb-1"},Ce={class:"d-flex justify-content-between align-items-center"},Se={class:"d-flex align-items-center gap-1"},Pe=e("h5",{class:"fw-bolder my-0 py-0",style:{color:"var(--green-5)"}}," 2. Delivery Option ",-1),De=e("hr",null,null,-1),je={class:"row"},Oe={class:"col-12 px-4 py-1"},Ve=e("h5",{class:"text-secondary fw-light"}," How do you want your order delivered? ",-1),Ue={class:"form-check my-1"},$e=e("label",{class:"form-check-label",for:"flexRadioDefault1"},[f(" Office Pickup "),e("span",{class:"small"},"(Pick up your order at out office address)")],-1),Me=e("div",{class:"border-1 p-1 rounded mt-1"},[e("p",{class:"fw-light"},[f(" Monday - Friday: 9am - 5pm "),e("br"),f(" Saturday: 9am - 1pm ")]),e("p",{class:"fw-light mb-0"}," Address: 10, Jimoh Odu Street, Opp Benson B/S, Ikorodu Garage, Ikorodu, Lagos. ")],-1),Te={class:"form-check my-1"},Be=e("label",{class:"form-check-label",for:"flexRadioDefault2"}," Door Delivery ",-1),Ae={class:"border-1 p-1 rounded mt-1"},Ne={class:"fw-light mb-0 small text-danger"},Re=e("b",null,"does not",-1),qe={class:"bg-white rounded shadow-sm p-1 mb-1"},Fe={class:"d-flex justify-content-between align-items-center"},Le={class:"d-flex align-items-center gap-1"},Ee=e("h5",{class:"fw-bolder my-0 py-0",style:{color:"var(--green-5)"}}," 3. Payment Mode ",-1),Ie=e("hr",null,null,-1),Ke={class:"row"},We={class:"col-12 px-4 py-1"},ze=e("h5",{class:"fw-light"},"How do you want to pay for your order?",-1),Ge={class:"form-check my-1"},He=e("label",{class:"form-check-label",for:"payment_method2"}," Pay with Cards, Bank Transfer or USSD ",-1),Je=e("small",{class:"text-danger fst-italic"},"(Payment validates order)",-1),Xe={class:"bg-white rounded shadow-sm p-1 mb-1"},Ye=["disabled"],Qe={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Ze=e("span",null,"Place Order",-1),et={class:"col-lg-4 col-md-5 my-2"},tt={class:"order__summary bg-white rounded p-1 shadow-sm mb-1"},st={class:"fw-bolder my-0 py-0 d-flex gap-1",style:{color:"var(--green-5)"}},ot=e("span",null,"Order Summary",-1),at=e("hr",null,null,-1),lt={class:"order__summary bg-white rounded p-1 shadow-sm mb-1"},nt={class:"fw-bolder my-0 py-0 d-flex gap-1",style:{color:"var(--green-5)"}},rt=e("span",null,"Need help?",-1),ct=e("hr",null,null,-1),it={class:"btn btn-outline-primary rounded w-100 d-flex gap-1 align-items-center justify-content-center"},dt=e("h4",{class:"modal-title text-warning d-flex align-items-center gap-1 fw-bolder"}," Save details ",-1),ut={class:"row"},mt={class:"col-lg-6 col-md-6 col-6 my-1"},pt=e("label",{for:"phone",class:"form-label"},"Phone",-1),ht={class:"col-lg-6 col-md-6 col-6 my-1"},_t=e("label",{for:"country",class:"form-label"},"Country",-1),yt=["value"],ft={class:"col-lg-6 col-md-6 col-6 my-1"},bt=e("label",{for:"state",class:"form-label"},"State",-1),vt=["value"],gt={class:"col-lg-6 col-md-6 col-6 my-1"},wt=e("label",{for:"city",class:"form-label"},"City",-1),kt={class:"col-12 my-1"},xt=e("label",{for:"address",class:"form-label"},"Address",-1),Ct={class:"col-12"},St={class:"form-check"},Pt=e("label",{class:"form-check-label small",for:"saveasmyaddress"}," Save as my address ",-1),Rt={__name:"CheckOut",props:["cartItems","cartTotal"],setup(l){const u=l,i={slug:"CheckOut",link:!1,route_name:""},v=m(!1),y=m(!1),g=m(!1),n=I(()=>J().props.auth.user),M=m(Q.getAllCountries()),D=m([]),T=x=>{D.value=Z.getStatesOfCountry(x.isoCode)},B=m("pk_test_b089a3d334fbd1385872fb05668f0f10b5e045d4"),A=m(n.value.email),N=m(u.cartTotal*100),R=m("ndmjkn"),q=()=>{console.log("object")},F=()=>{console.log("object")},s=j({first_name:n.value.first_name,last_name:n.value.last_name,phone:n.value.phone,address:n.value.address,city:n.value.city,state:n.value.state,country:n.value.country,gender:n.value.gender,email:n.value.email,dob:n.value.dob,save_as_my_address:!1});j({});const L=()=>{s.clearErrors(),s.post(route("user.order.create",n.value.id),{preserveScroll:!0,onSuccess:()=>{U.success("Your order has been created successfully"),s.reset()},onError:()=>{U.error("Error, unable to create your order")}})};return(x,o)=>(d(),h(P,null,[r(t(K),{title:"CheckOut"}),r(X,null,{default:w(()=>{var a;return[r(Y,{step_one:i}),e("div",le,[e("div",ne,[e("div",re,[e("div",ce,[e("div",ie,[e("div",de,[r(t(_),{class:k(t(n).is_completed==!0?"text-success":""),height:"20",icon:"mdi:checkbox-marked-circle"},null,8,["class"]),ue]),e("button",{onClick:o[0]||(o[0]=b=>v.value=!0),class:"text-warning alert alert-warning m-0 p-0"},pe)]),he,e("div",_e,[t(n).is_completed==!0?(d(),h("div",ye,[e("h5",null,c(t(s).first_name)+" "+c(t(s).last_name),1),e("p",fe,c(t(s).email),1),e("p",be,c(t(s).phone),1),e("p",ve,c(t(s).address)+", "+c(t(s).city)+", "+c(t(s).state)+", "+c((a=t(s).country)==null?void 0:a.name)+". ",1)])):(d(),h("div",ge,ke))])]),e("div",xe,[e("div",Ce,[e("div",Se,[r(t(_),{class:k(y.value?"text-success":""),height:"20",icon:"mdi:checkbox-marked-circle"},null,8,["class"]),Pe])]),De,e("div",je,[e("div",Oe,[Ve,e("div",Ue,[p(e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1","onUpdate:modelValue":o[1]||(o[1]=b=>y.value=b),value:"office_pickup"},null,512),[[C,y.value]]),$e,Me]),e("div",Te,[p(e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2","onUpdate:modelValue":o[2]||(o[2]=b=>y.value=b),value:"door_delivery"},null,512),[[C,y.value]]),Be,e("div",Ae,[e("p",Ne,[f(" Please note that the checkout total amount (\u20A6 "+c(t(W)(l.cartTotal))+") ",1),Re,f(" include the delivery fee. ")])])])])])]),e("div",qe,[e("div",Fe,[e("div",Le,[r(t(_),{class:k(g.value?"text-success":""),height:"20",icon:"mdi:checkbox-marked-circle"},null,8,["class"]),Ee])]),Ie,e("div",Ke,[e("div",We,[ze,e("div",Ge,[p(e("input",{"onUpdate:modelValue":o[3]||(o[3]=b=>g.value=b),value:"pay_now",class:"form-check-input",type:"radio",name:"payment_method",id:"payment_method2"},null,512),[[C,g.value]]),He]),Je])])]),e("div",Xe,[r(t(ae),{buttonClass:"'btn btn-primary'",buttonText:"Pay Online",publicKey:B.value,email:A.value,amount:N.value,reference:R.value,onSuccess:q,onCanel:F},null,8,["publicKey","email","amount","reference"]),e("button",{onClick:L,disabled:t(s).processing||!g.value||!y.value||t(n).is_completed==!1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center"},[t(s).processing?(d(),h("span",Qe)):(d(),z(t(_),{key:1,height:"18",icon:"icon-park-outline:shopping-cart-one",class:"mx-1"})),Ze],8,Ye)])]),e("div",et,[e("div",tt,[e("h5",st,[r(t(_),{height:"20",icon:"material-symbols:order-approve-outline-sharp"}),ot]),at,r(t(G),{href:x.route("cart"),class:"btn btn-outline-primary rounded w-100 d-flex gap-1 align-items-center justify-content-center"},{default:w(()=>[r(t(_),{icon:"ic:outline-shopping-cart",height:"15"}),f(" Modify Cart ")]),_:1},8,["href"])]),e("div",lt,[e("h5",nt,[r(t(_),{height:"20",icon:"mdi:account-help"}),rt]),ct,e("button",it,[r(t(_),{icon:"clarity:chat-bubble-outline-badged",height:"15"}),f(" Live Chat ")])])])])])]}),_:1}),r(ee,{show:v.value,size:"modal-md",footer:!0,onClose:o[12]||(o[12]=a=>v.value=!1)},{header:w(()=>[dt]),body:w(()=>[r(te,{errors:t(s).errors},null,8,["errors"]),e("div",ut,[e("div",mt,[pt,p(e("input",{type:"tel",name:"phone",id:"phone",class:"form-control",placeholder:"Phone number","onUpdate:modelValue":o[4]||(o[4]=a=>t(s).phone=a)},null,512),[[S,t(s).phone]])]),e("div",ht,[_t,p(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":o[5]||(o[5]=a=>t(s).country=a),onChange:o[6]||(o[6]=a=>T(t(s).country))},[(d(!0),h(P,null,V(M.value,a=>(d(),h("option",{key:a,value:a},c(a.name),9,yt))),128))],544),[[O,t(s).country]])]),e("div",ft,[bt,p(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":o[7]||(o[7]=a=>t(s).state=a)},[(d(!0),h(P,null,V(D.value,a=>(d(),h("option",{key:a,value:a.name},c(a.name),9,vt))),128))],512),[[O,t(s).state]])]),e("div",gt,[wt,p(e("input",{type:"text",class:"form-control",id:"city",placeholder:"City","onUpdate:modelValue":o[8]||(o[8]=a=>t(s).city=a)},null,512),[[S,t(s).city]])]),e("div",kt,[xt,p(e("textarea",{id:"address",rows:"3",class:"form-control","onUpdate:modelValue":o[9]||(o[9]=a=>t(s).address=a)},null,512),[[S,t(s).address]])]),e("div",Ct,[e("div",St,[p(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[10]||(o[10]=a=>t(s).save_as_my_address=a),id:"saveasmyaddress"},null,512),[[H,t(s).save_as_my_address]]),Pt])])])]),footer:w(()=>[e("button",{onClick:o[11]||(o[11]=a=>v.value=!1),class:"btn btn-success w-100"}," Save ")]),_:1},8,["show"])],64))}};export{Rt as default};
