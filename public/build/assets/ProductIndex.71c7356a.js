import{A as C}from"./AdminLayout.c2efef3c.js";import{r as N,P,o as n,a,b as s,u as o,X as D,w as r,d as e,F as g,e as S,t as l,q as y,g as A,i as B,k as v}from"./app.636801a9.js";import{D as I}from"./DashboardBreadcrump.d592429a.js";import{I as u}from"./iconify.65236bb7.js";import{_ as V}from"./NoResult.97c56a94.js";import{M as $}from"./Modal.23ac1dc4.js";import"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                              */const M=e("hr",null,null,-1),q={class:"container"},E={class:"row"},F={class:"col-lg-12"},L={class:"my-1"},T={key:0,class:"table-responsive"},j={class:"table table-hover table-bordered"},z=e("thead",{class:"table-dark"},[e("tr",null,[e("th",{scope:"col"},"S/N"),e("th",{scope:"col"},"Image"),e("th",{scope:"col"},"Title"),e("th",{scope:"col"},"Category"),e("th",{scope:"col"},"Subcategory"),e("th",{scope:"col"},"Stock"),e("th",{scope:"col"},"Price/Discount Price"),e("th",{scope:"col"},"Actions")])],-1),J={scope:"row"},O={scope:"row"},U=["src"],X={class:"d-flex gap-2 justify-content-start align-items-center"},Y=["onClick"],G={key:1,class:"text-center"},H={class:"modal-title text-warning d-flex align-items-center gap-1 fw-bolder"},K=e("h5",{class:"fw-bold text-secondary"}," Are you sure you want to delete this product? ",-1),Q={class:"d-flex gap-1 align-items-center"},R=e("span",null,"Yes, Delete",-1),W={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ce={__name:"ProductIndex",props:["products"],setup(h){const c=N(!1),k={slug:"Products",link:!1,route_name:null},i=P({id:null}),w=()=>{i.delete(route("admin.product.destroy",i.id),{preserveScroll:!0,onSuccess:()=>{v.success("Product has been deleted successfully"),i.reset(),c.value=!1},onError:()=>{v.error("Unable to delete this product")}})};return(_,d)=>(n(),a(g,null,[s(o(D),{title:"Products"}),s(C,null,{default:r(()=>[s(I,{step_one:k}),M,e("div",q,[e("div",E,[e("div",F,[e("div",L,[h.products.length?(n(),a("div",T,[e("table",j,[z,e("tbody",null,[(n(!0),a(g,null,S(h.products,(t,x)=>{var m,p,b,f;return n(),a("tr",{key:t.id},[e("th",J,l(x+1),1),e("td",O,[e("img",{src:(m=JSON.parse(t.image))==null?void 0:m.img_url,alt:"product image"},null,8,U)]),e("td",null,l(t.title),1),e("td",null,l((b=(p=t.subcategory)==null?void 0:p.category)==null?void 0:b.title),1),e("td",null,l((f=t.subcategory)==null?void 0:f.title),1),e("td",null,l(t.stock),1),e("td",null," \u20A6"+l(t.price)+" / "+l(t.discount_price?"\u20A6"+t.discount_price:"---"),1),e("td",X,[s(o(y),{target:"_blank",href:_.route("product-details-page",t.slug),class:"btn btn-primary btn-sm"},{default:r(()=>[s(o(u),{icon:"ph:eye-bold",height:"17"})]),_:2},1032,["href"]),s(o(y),{href:_.route("admin.product.edit",t.id),class:"btn btn-success btn-sm"},{default:r(()=>[s(o(u),{icon:"material-symbols:edit-square-outline",height:"17"})]),_:2},1032,["href"]),e("button",{onClick:Z=>{c.value=!0,o(i).id=t.id},class:"btn btn-danger btn-sm"},[s(o(u),{icon:"ic:outline-delete-forever",height:"17"})],8,Y)])])}),128))])])])):(n(),a("div",G,[s(V,{text:"No products found",link:!1})]))])])])])]),_:1}),s($,{show:c.value,size:"modal-sm",footer:!0,onClose:d[1]||(d[1]=t=>c.value=!1)},{header:r(()=>[e("h4",H,[s(o(u),{icon:"icon-park-outline:caution"}),A(" Caution ")])]),body:r(()=>[K]),footer:r(()=>[e("div",Q,[e("button",{onClick:w,class:"btn btn-sm btn-danger"},[R,o(i).processing?(n(),a("span",W)):B("",!0)]),e("button",{onClick:d[0]||(d[0]=t=>c.value=!1),class:"btn btn-sm btn-success"}," No, Cancel ")])]),_:1},8,["show"])],64))}};export{ce as default};
