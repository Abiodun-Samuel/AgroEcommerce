import{c as E,r as I,P as D,o as n,a as d,b as u,u as o,X as L,w as B,d as e,t as p,j as y,v as F,F as b,e as N,C as U,i as f,k as h,z as V,p as j,l as A,J}from"./app.281e0c63.js";import{A as M}from"./AdminLayout.8a21602c.js";import{D as O}from"./DashboardBreadcrump.8e740981.js";import{I as R}from"./iconify.a9b16b93.js";import{_ as T}from"./FormError.f65ecb40.js";import{_ as $}from"./_plugin-vue_export-helper.cdc0426e.js";const c=l=>(j("data-v-e0e7cf53"),l=l(),A(),l),z=c(()=>e("hr",null,null,-1)),P={class:"container shadow-sm rounded bg-white"},X={class:"category py-1"},q={class:"row"},G={class:"col-lg-12"},H={class:"fw-bolder text-success"},K={class:"row"},Q={class:"my-1 col-lg-4 col-md-6"},W=c(()=>e("label",{for:"category_image",class:"form-label"},"Categories",-1)),Y=c(()=>e("option",{selected:"",disabled:""},"Select Category",-1)),Z=["value"],ee={class:"my-1 col-lg-4 col-md-6"},te=c(()=>e("label",{for:"category_title",class:"form-label"},"Subcategory Title",-1)),se={class:"my-1 col-lg-4 col-md-6"},oe=c(()=>e("label",{for:"subcategory_image",class:"form-label"},"Subcategory Image",-1)),ae={key:0,class:"img_container mt-1"},re=["src"],le={class:"row"},ce={class:"col-12"},ie=["disabled"],ne=c(()=>e("span",null,"Edit",-1)),de={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ue={__name:"SubcategoryEdit",props:["subcategory"],setup(l){var g,m;const a=l,v=E(()=>J().props.data.categories),_=I((g=JSON.parse(a.subcategory.banner_img))==null?void 0:g.img_url),t=D({category_id:a.subcategory.category_id,subcategory_img:a.subcategory.banner_img,subcategory_title:a.subcategory.title,subcategory_img_id:(m=JSON.parse(a.subcategory.banner_img))==null?void 0:m.img_id,folder:"subcategory"}),S={slug:"Subcategory",link:!0,route_name:"admin.category.index"},w={slug:a.subcategory.title,link:!1,route_name:null};function x(i){const r=i.target.files[0];t.subcategory_img=i.target.files[0];const s=new FileReader;s.onloadend=()=>{_.value=s.result},s.readAsDataURL(r)}function k(){const i=document.getElementById("subcategory_image");i.value=null,t.subcategory_img=null,_.value=null}const C=()=>{t.clearErrors(),t.post(route("admin.subcategory.update",a.subcategory.id),{preserveScroll:!0,onSuccess:()=>{h.success(V(a.subcategory.title)+" has been edit successfully"),t.reset()},onError:()=>{h.error(`Unable to edit ${a.subcategory.title}`)}})};return(i,r)=>(n(),d(b,null,[u(o(L),{title:"Category"}),u(M,null,{default:B(()=>[u(O,{step_one:S,step_two:w}),z,e("div",P,[u(T,{errors:o(t).errors},null,8,["errors"]),e("div",X,[e("div",q,[e("div",G,[e("h4",H,"Edit "+p(l.subcategory.title),1)])]),e("div",K,[e("div",Q,[W,y(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":r[0]||(r[0]=s=>o(t).category_id=s)},[Y,(n(!0),d(b,null,N(o(v),s=>(n(),d("option",{key:s.id,value:s.id},p(s.title),9,Z))),128))],512),[[F,o(t).category_id]])]),e("div",ee,[te,y(e("input",{type:"text",class:"form-control",id:"category_title",placeholder:"category","onUpdate:modelValue":r[1]||(r[1]=s=>o(t).subcategory_title=s)},null,512),[[U,o(t).subcategory_title]])]),e("div",se,[oe,e("input",{type:"file",class:"form-control",id:"subcategory_image",onChange:r[2]||(r[2]=s=>x(s)),accept:".jpg, .jpeg, .png"},null,32),_.value?(n(),d("div",ae,[e("img",{src:_.value,alt:"category preview",width:"100"},null,8,re),e("button",{onClick:k},[u(o(R),{color:"text-danger",icon:"material-symbols:edit",height:"15"})])])):f("",!0)])]),e("div",le,[e("div",ce,[e("button",{disabled:o(t).processing||!o(t).subcategory_img||!o(t).subcategory_title,onClick:C,class:"btn btn-success"},[ne,o(t).processing?(n(),d("span",de)):f("",!0)],8,ie)])])])])]),_:1})],64))}},fe=$(ue,[["__scopeId","data-v-e0e7cf53"]]);export{fe as default};
