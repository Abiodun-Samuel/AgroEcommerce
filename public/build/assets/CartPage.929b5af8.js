import{I as p}from"./iconify.a9b16b93.js";import{r as w,P as k,o as a,a as r,d as e,b as c,w as h,a9 as S,u as s,q as f,t as l,g as y,f as v,F as C,k as b,X as x,e as q,bC as $}from"./app.281e0c63.js";import{_ as M}from"./GuestLayout.b1184634.js";import{B}from"./BreadCrump.13ad1f1b.js";import{_ as E}from"./NoResult.5fa7e996.js";import"./logo.30a607c9.js";import"./_plugin-vue_export-helper.cdc0426e.js";const T={class:"d-flex justify-content-between align-items-center"},N=["src","alt"],P={class:"my-0 py-0"},U={class:"fw-bolder"},j={class:"fw-light my-0 py-0 small"},F={class:"fw-bolder"},O={class:"fw-light rounded my-0 py-0 small"},V={class:"fw-bold rounded",style:{background:"var(--green-0)",padding:"2px"}},D=e("hr",null,null,-1),X={class:"d-flex justify-content-between align-items-center"},z=["disabled"],J={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},L={class:"d-flex align-items-center gap-1"},Q=["disabled"],Y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},A={class:"my-0"},G=["disabled"],H={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},K={__name:"CartItem",props:["cartItem"],setup(t){const m=w(!1),o=w(!1),i=k({id:"",type:""}),n=k({id:""}),g=(u,d)=>{i.clearErrors(),i.id=u.id,d=="inc"&&(i.type="inc",m.value=!0),d=="dec"&&(i.type="dec",o.value=!0),i.put(route("update-cart"),{preserveScroll:!0,onSuccess:()=>{b.success("Cart item has been updated successfully."),i.reset(),m.value=!1,o.value=!1},onError:()=>{b.error("Unable to update your cart item."),m.value=!1,o.value=!1}})},_=u=>{n.clearErrors(),n.id=u.id,n.put(route("remove-cart"),{preserveScroll:!0,onSuccess:()=>{b.success("Cart item has been removed successfully."),n.reset()},onError:()=>{b.error("Unable to remove cart item.")}})};return(u,d)=>(a(),r(C,null,[e("div",T,[e("div",null,[c(s(f),{href:u.route("product-details-page",t.cartItem.associatedModel.slug)},{default:h(()=>[e("img",{style:S(t.cartItem.associatedModel.stock<=0?"filter: grayscale(100%)":""),width:"60",height:"60",class:"rounded",src:JSON.parse(t.cartItem.associatedModel.image).img_url,alt:t.cartItem.name},null,12,N)]),_:1},8,["href"]),e("small",P,l(t.cartItem.associatedModel.stock>0?`In Stock - ${t.cartItem.associatedModel.stock}`:"Out of Stock"),1)]),e("div",null,[c(s(f),{href:u.route("product-details-page",t.cartItem.associatedModel.slug)},{default:h(()=>[e("h5",U,l(t.cartItem.name),1)]),_:1},8,["href"]),e("p",j,[y(" Quantity: "),e("span",F,l(t.cartItem.quantity),1)]),e("p",O,[y(" Price: \u20A6 "+l(t.cartItem.price)+" X "+l(t.cartItem.quantity)+" = ",1),e("span",V,"\u20A6 "+l(t.cartItem.price*t.cartItem.quantity),1)])])]),D,e("div",X,[e("button",{onClick:d[0]||(d[0]=I=>_(t.cartItem)),class:"btn btn-sm btn-outline-danger",disabled:s(n).processing},[s(n).processing?(a(),r("span",J)):(a(),v(s(p),{key:1,icon:"material-symbols:delete-outline-rounded"}))],8,z),e("div",L,[e("button",{onClick:d[1]||(d[1]=I=>g(t.cartItem,"dec")),disabled:t.cartItem.quantity<=1||o.value,class:"btn btn-sm btn-success shadow"},[o.value?(a(),r("span",Y)):(a(),v(s(p),{key:1,icon:"ic:baseline-minus"}))],8,Q),e("p",A,l(t.cartItem.quantity),1),e("button",{disabled:t.cartItem.quantity>=t.cartItem.associatedModel.stock||m.value,onClick:d[2]||(d[2]=I=>g(t.cartItem,"inc")),class:"btn btn-sm btn-success"},[m.value?(a(),r("span",H)):(a(),v(s(p),{key:1,icon:"material-symbols:add"}))],8,G)])])],64))}},R={class:"container"},W={key:0,class:"row"},Z={class:"col-lg-9 col-md-8 col-sm-8 my-2"},ee={class:"mb-1 bg-white p-1 shadow-sm d-flex justify-content-between align-items-center"},te={class:"my-0 py-0 fw-bold"},se=["disabled"],ae={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},re={key:1},oe={class:"cart"},ne={class:"col-lg-3 col-md-4 col-sm-4 my-2"},ce={class:"cart__total p-1 bg-white shadow-sm rounded"},le=e("h5",{class:"fw-bolder"},"Cart Summary",-1),de=e("hr",null,null,-1),ie=e("b",null,"Total: ",-1),ue={class:"fw-bolder rounded",style:{background:"var(--green-0)",padding:"2px"}},me=e("hr",null,null,-1),he=e("hr",null,null,-1),be={key:1,class:"row"},fe={class:"col-12 text-center"},Ie={__name:"CartPage",props:["cartItems","cartTotal","cartCount"],setup(t){const m={slug:"Cart",link:!1,route_name:""},o=k({}),i=()=>{o.delete(route("clear-cart"),{preserveScroll:!0,onSuccess:()=>{b.success("Cart has been cleared successfully."),o.reset()},onError:()=>{b.error("Unable to clear your cart.")}})};return(n,g)=>(a(),r(C,null,[c(s(x),{title:"Cart"}),c(M,null,{default:h(()=>[c(B,{step_one:m}),e("div",R,[t.cartCount!=0?(a(),r("div",W,[e("div",Z,[e("div",ee,[e("div",null,[e("h5",te,"Cart("+l(t.cartCount)+")",1)]),e("div",null,[e("button",{onClick:i,disabled:s(o).processing,class:"btn btn-sm btn-outline-danger"},[s(o).processing?(a(),r("span",ae)):(a(),r("span",re,"Clear Cart"))],8,se)])]),e("div",oe,[(a(!0),r(C,null,q(t.cartItems,(_,u)=>(a(),r("div",{class:"cart__box mb-1 rounded shadow-sm bg-white p-1",key:_+u},[c(K,{cartItem:_},null,8,["cartItem"])]))),128))])]),e("div",ne,[e("div",ce,[le,de,e("p",null,[ie,e("span",ue,"\u20A6 "+l(s($)(t.cartTotal)),1)]),me,c(s(f),{class:"btn btn-outline-success w-100",href:n.route("product-page")},{default:h(()=>[y(" Continue Shopping ")]),_:1},8,["href"]),he,c(s(f),{href:n.route("user.check-out"),class:"btn btn-primary w-100"},{default:h(()=>[y("CheckOut (\u20A6 "+l(s($)(t.cartTotal))+")",1)]),_:1},8,["href"])])])])):(a(),r("div",be,[e("div",fe,[c(E,{text:"Your cart is empty"}),c(s(f),{class:"btn rounded-pill btn-success mt-1",href:n.route("product-page",{all_products:!0})},{default:h(()=>[y("Products")]),_:1},8,["href"])])]))])]),_:1})],64))}};export{Ie as default};
