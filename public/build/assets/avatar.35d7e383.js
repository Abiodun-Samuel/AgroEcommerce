import{H,R as U,I as $,K as z,L as F,M as O,N as K,O as q,Q as G,D as W,S as L,U as Q,V as Y,W as Z,Y as J,Z as X,r as ee,_ as ae,$ as te,a0 as ne,a1 as se,a2 as re,a3 as oe,a4 as ie,a5 as ce,u as le,a6 as de,a7 as ue,n as fe,a8 as ve,a9 as he,t as me,aa as pe,ab as be,ac as ge,F as ye,ad as we,ae as Se,af as Ce,ag as Ee,ah as xe,ai as Re,aj as _e,ak as Te,al as ke,c as Ve,f as Be,i as De,a as Me,d as Ne,am as Ae,an as Ie,ao as je,h as Pe,x as He,g as Ue,b as $e,ap as ze,A as Fe,aq as Oe,ar as Ke,as as qe,at as Ge,au as We,av as Le,aw as Qe,B as Ye,ax as Ze,ay as Je,az as Xe,aA as ea,aB as aa,aC as ta,aD as na,aE as sa,aF as ra,aG as oa,aH as ia,aI as ca,aJ as la,aK as da,aL as ua,m as fa,aM as va,aN as ha,aO as ma,aP as pa,aQ as ba,o as ga,l as ya,aR as wa,p as Sa,aS as Ca,aT as Ea,e as xa,s as Ra,y as _a,aU as Ta,aV as ka,aW as Va,aX as Ba,aY as Da,aZ as Ma,a_ as Na,a$ as Aa,b0 as Ia,b1 as ja,b2 as Pa,b3 as Ha,b4 as Ua,b5 as $a,b6 as za,b7 as Fa,b8 as Oa,b9 as Ka,ba as qa,bb as Ga,bc as Wa,bd as La,w as Qa,be as Ya,j as Za,bf as Ja,bg as Xa,T as et,bh as at,bi as tt,bj as nt,bk as st,bl as rt,bm as ot,bn as it,bo as ct,bp as lt,bq as dt,br as ut,bs as ft,bt as vt,bu as ht,v as mt,C as pt,E as bt,bv as gt,bw as yt,bx as wt,by as St}from"./app.636801a9.js";const Ct=()=>{},Et=Object.freeze(Object.defineProperty({__proto__:null,compile:Ct,EffectScope:H,ReactiveEffect:U,customRef:$,effect:z,effectScope:F,getCurrentScope:O,isProxy:K,isReactive:q,isReadonly:G,isRef:W,isShallow:L,markRaw:Q,onScopeDispose:Y,proxyRefs:Z,reactive:J,readonly:X,ref:ee,shallowReactive:ae,shallowReadonly:te,shallowRef:ne,stop:se,toRaw:re,toRef:oe,toRefs:ie,triggerRef:ce,unref:le,camelize:de,capitalize:ue,normalizeClass:fe,normalizeProps:ve,normalizeStyle:he,toDisplayString:me,toHandlerKey:pe,BaseTransition:be,Comment:ge,Fragment:ye,KeepAlive:we,Static:Se,Suspense:Ce,Teleport:Ee,Text:xe,callWithAsyncErrorHandling:Re,callWithErrorHandling:_e,cloneVNode:Te,compatUtils:ke,computed:Ve,createBlock:Be,createCommentVNode:De,createElementBlock:Me,createElementVNode:Ne,createHydrationRenderer:Ae,createPropsRestProxy:Ie,createRenderer:je,createSlots:Pe,createStaticVNode:He,createTextVNode:Ue,createVNode:$e,defineAsyncComponent:ze,defineComponent:Fe,defineEmits:Oe,defineExpose:Ke,defineProps:qe,get devtools(){return Ge},getCurrentInstance:We,getTransitionRawChildren:Le,guardReactiveProps:Qe,h:Ye,handleError:Ze,initCustomFormatter:Je,inject:Xe,isMemoSame:ea,isRuntimeOnly:aa,isVNode:ta,mergeDefaults:na,mergeProps:sa,nextTick:ra,onActivated:oa,onBeforeMount:ia,onBeforeUnmount:ca,onBeforeUpdate:la,onDeactivated:da,onErrorCaptured:ua,onMounted:fa,onRenderTracked:va,onRenderTriggered:ha,onServerPrefetch:ma,onUnmounted:pa,onUpdated:ba,openBlock:ga,popScopeId:ya,provide:wa,pushScopeId:Sa,queuePostFlushCb:Ca,registerRuntimeCompiler:Ea,renderList:xa,renderSlot:Ra,resolveComponent:_a,resolveDirective:Ta,resolveDynamicComponent:ka,resolveFilter:Va,resolveTransitionHooks:Ba,setBlockTracking:Da,setDevtoolsHook:Ma,setTransitionHooks:Na,ssrContextKey:Aa,ssrUtils:Ia,toHandlers:ja,transformVNodeArgs:Pa,useAttrs:Ha,useSSRContext:Ua,useSlots:$a,useTransitionState:za,version:Fa,warn:Oa,watch:Ka,watchEffect:qa,watchPostEffect:Ga,watchSyncEffect:Wa,withAsyncContext:La,withCtx:Qa,withDefaults:Ya,withDirectives:Za,withMemo:Ja,withScopeId:Xa,Transition:et,TransitionGroup:at,VueElement:tt,createApp:nt,createSSRApp:st,defineCustomElement:rt,defineSSRCustomElement:ot,hydrate:it,initDirectivesForSSR:ct,render:lt,useCssModule:dt,useCssVars:ut,vModelCheckbox:ft,vModelDynamic:vt,vModelRadio:ht,vModelSelect:mt,vModelText:pt,vShow:bt,withKeys:gt,withModifiers:yt},Symbol.toStringTag,{value:"Module"}));var R={exports:{}};const xt=wt(Et);(function(_,Rt){(function(c,h){_.exports=h(xt)})(St,function(c){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */function h(o,u,s,r){function n(e){return e instanceof s?e:new s(function(l){l(e)})}return new(s||(s=Promise))(function(e,l){function v(d){try{a(r.next(d))}catch(p){l(p)}}function m(d){try{a(r.throw(d))}catch(p){l(p)}}function a(d){d.done?e(d.value):n(d.value).then(v,m)}a((r=r.apply(o,u||[])).next())})}function y(o,u){var s={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},r,n,e,l;return l={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function v(a){return function(d){return m([a,d])}}function m(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(e=a[0]&2?n.return:a[0]?n.throw||((e=n.return)&&e.call(n),0):n.next)&&!(e=e.call(n,a[1])).done)return e;switch(n=0,e&&(a=[a[0]&2,e.value]),a[0]){case 0:case 1:e=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(e=s.trys,!(e=e.length>0&&e[e.length-1])&&(a[0]===6||a[0]===2)){s=0;continue}if(a[0]===3&&(!e||a[1]>e[0]&&a[1]<e[3])){s.label=a[1];break}if(a[0]===6&&s.label<e[1]){s.label=e[1],e=a;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(a);break}e[2]&&s.ops.pop(),s.trys.pop();continue}a=u.call(o,s)}catch(d){a=[6,d],n=0}finally{r=e=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var g=c.defineComponent({name:"Camera",components:{},emits:["loading","started","stopped","paused","resumed","camera-change","snapshot","error"],props:{resolution:{type:Object,default:function(){return{width:1920,height:1080}}},facingMode:{type:String,default:"environment"},autoplay:{type:Boolean,default:!0},playsinline:{type:Boolean,default:!0},constraints:{type:Object,required:!1}},setup:function(o,u){var s=this,r=u.emit;c.onMounted(function(){if(!navigator.mediaDevices)throw new Error("Media devices not available");var t=document.getElementById("video");o.playsinline&&t&&t.setAttribute("playsinline",""),o.autoplay&&d()}),c.onUnmounted(function(){return w()});var n=c.ref(),e=c.ref(),l=c.ref(),v=o.constraints||{video:{width:o.resolution.width,height:o.resolution.height,facingMode:o.facingMode,deviceId:{}},audio:!1},m=function(t){return t===void 0&&(t=["audioinput","videoinput"]),h(s,void 0,void 0,function(){var i;return y(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return i=f.sent(),[2,i.filter(function(b){return t.includes(b.kind)})]}})})},a=function(){if(!!l.value){var t=l.value.getVideoTracks().map(function(i){return i.getSettings().deviceId});if(t.length>0)return t[0]}},d=function(){return h(s,void 0,void 0,function(){var t,i;return y(this,function(f){switch(f.label){case 0:r("loading"),f.label=1;case 1:return f.trys.push([1,3,,4]),t=l,[4,navigator.mediaDevices.getUserMedia(v)];case 2:if(t.value=f.sent(),!n.value)throw new Error("Video ref is null");return n.value.srcObject=l.value,r("started"),[3,4];case 3:return i=f.sent(),r("error",i),[3,4];case 4:return[2]}})})},p=function(t,i,f){var b;if(t===void 0&&(t=o.resolution),i===void 0&&(i="image/png"),!n.value)throw new Error("Video ref is null");if(!e.value)throw new Error("Canvas ref is null");var C=t.width,E=t.height;return e.value.width=C,e.value.height=E,(b=e.value.getContext("2d"))===null||b===void 0||b.drawImage(n.value,0,0,C,E),new Promise(function(P){var S;(S=e.value)===null||S===void 0||S.toBlob(function(x){r("snapshot",x),P(x)},i,f)})},A=function(t){return h(s,void 0,void 0,function(){return y(this,function(i){switch(i.label){case 0:return w(),v.video.deviceId.exact=t,[4,d()];case 1:return i.sent(),r("camera-change",t),[2]}})})},I=function(){var t;(t=n.value)===null||t===void 0||t.play(),r("resumed")},j=function(){var t;(t=n.value)===null||t===void 0||t.pause(),r("paused")},w=function(){var t;(t=l.value)===null||t===void 0||t.getTracks().forEach(function(i){return i.stop()}),r("stopped")};return{start:d,stop:w,video:n,snapshot:p,canvas:e,devices:m,currentDeviceID:a,pause:j,resume:I,changeCamera:A,stream:l}}});const T={id:"camera-container"},k={autoplay:"",ref:"video",id:"video"},V={id:"slot-container"},B={ref:"canvas",id:"canvas"};function D(o,u,s,r,n,e){return c.openBlock(),c.createElementBlock(c.Fragment,null,[c.createElementVNode("div",T,[c.createElementVNode("video",k,null,512),c.createElementVNode("div",V,[c.renderSlot(o.$slots,"default")])]),c.createElementVNode("canvas",B,null,512)],64)}function M(o,u){u===void 0&&(u={});var s=u.insertAt;if(!(!o||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=o:n.appendChild(document.createTextNode(o))}}var N=`
#camera-container[data-v-74104ed5] {
    position: relative;
    width: 100%;
    height: 100%;
}
#slot-container[data-v-74104ed5] {
    position: absolute;
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
}
#video[data-v-74104ed5] {
    width: 100%;
    height: 100%;
}
#canvas[data-v-74104ed5] {
    display: none;
}
`;return M(N),g.render=D,g.__scopeId="data-v-74104ed5",g.__file="src/components/Camera.vue",g})})(R);const Tt=R.exports,kt="/build/assets/avatar.f4995ef6.png";export{Tt as C,kt as a};
